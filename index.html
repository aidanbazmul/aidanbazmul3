<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <!--My CSS-->
    <link rel="stylesheet" href="style.css">

    <title>Home</title>
  </head>
  <body>


    <section class="container">
            <div class="row text-center">
              <div class="col-md">
                <h4>Contact Me!</h4>
                <div class="alert alert-success alert-dismissible fade show d-none my-alert" role="alert">
                  <strong>Thank You!</strong> Your Messages Has Been Received
                  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                <form name="aidan-contact-form">
                    <div class="mb-3">
                      <label for="email" class="form-label">Email</label>
                      <input type="email" class="form-control" id="email" aria-describedby="email" name="email">
                    </div>
                    <div class="mb-3">
                      <label for="name" class="form-label">Email</label>
                      <input type="text" class="form-control" id="email" aria-describedby="email" name="nama">
                    </div>
                  <div class="mb-3">
                    <label for="pesan" class="form-label">Messages</label>
                    <input type="text" class="form-control" id="pesan" rows="2" name="pesan"></input>
                  </div>
    
                  <button type="submit btn-submit" class="btn btn-success btn-submit">Submit</button>
    
                  <button class="btn btn-success  btn-loading d-none" type="button" disabled>
                    <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                    Loading...
                  </button>
                  
               </form>
                </div>
                </div>
        </section>


        <!--SCRIPT CAMPURAN-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script>
  const scriptURL = 'https://script.google.com/macros/s/AKfycbwhpX0gzAbKT1stz93yVJdf2K134wC9X0t81Y5ULsa2riFK8NZchDM8epZNkO_dA3mstQ/exec'
  const form = document.forms['aidan-contact-form']
  const btnSubmit = document.querySelector('.btn-submit');
  const btnLoading = document.querySelector('.btn-loading');
  const myAlert = document.querySelector('.my-alert');

  form.addEventListener('submit', e => {
    e.preventDefault();
    //tombol di submit
    //tombol loading muncul
    btnSubmit.classList.toggle( 'd-none' );
    btnLoading.classList.toggle( 'd-none' );
    fetch(scriptURL, { method: 'POST', body: new FormData(form)})
      .then(response => {

         //balikan tombol kirim dan loading
        btnSubmit.classList.toggle( 'd-none' );
        btnLoading.classList.toggle( 'd-none' );
        //alert tampil
        myAlert.classList.toggle( 'd-none' );
        //reset form
        form.reset();
        console.log('Success!', response)
    })
      .catch(error => console.error('Error!', error.message))
  })
</script>
</body>
<br>
<br>
<footer class="bg-success text-white">
  <p>Copyright Reserved 2021 By : Muhammad Aidan Bazmul</p>
</footer>

<!--End Footer-->

    </body>
</html>